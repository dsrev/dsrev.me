<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><link rel=stylesheet href=/assets/css/main.min.css><link rel=icon href=/assets/images/favicon.png type=image/png><link rel=apple-touch-icon href=/assets/images/apple-touch-icon.png sizes=180x180 type=image/png><meta name=description content><title>[WIP] Installing WSL 2 on Windows 10 AME &ndash; Ilya Prokopenko</title></head><body><div class=content-big><h1>[WIP] Installing WSL 2 on Windows 10 AME</h1><p><img src=wslpfetch.png alt='Screenshot of Windows Terminal window with Ubuntu distribution on WSL 2 open. In the terminal itself open "pfetch", which displays minimal information about the distribution.'></p><small><time datetime=2022-10-10T21:13:11+07:00>2022 Oct 10</time></small><p><em>Please note that this article was underwritten. The article will be ready in a few hours.</em></p><p>I&rsquo;ve been using Windows 10 AME as my primary operating system for several months now, with a little break in the form of using vanilla Windows 10/11. Despite the fact that I do not use GNU/Linux desktop for several reasons, I still prefer to use at least one GNU/Linux distribution via WSL 2 to develop my projects and more.</p><p>In this guide I will show how you can install WSL 2 using two methods - automatic and manual.</p><h2 id=prerequisites>Prerequisites</h2><ul><li>An AMD64 or ARM64 CPU with virtualization support.</li><li>&ldquo;Windows Subsystem for Linux&rdquo; and &ldquo;Virtual Machine Platform&rdquo; features enabled on the system.</li><li>WSL 2 kernel update.</li><li>Windows Terminal.</li></ul><h3 id=cpu-virtualization>CPU Virtualization</h3><p>To confirm that your CPU supports virtualization, just open Task Manager, open the &ldquo;Performance&rdquo; tab and look at the &ldquo;Virtualization&rdquo; value in the CPU section.</p><p><img src=CPUVirtual.png alt="Screenshot of Task Manager with &amp;ldquo;Virtualization: Enabled&amp;rdquo; text highlighted."></p><p>If virtualization is disabled, you should restart in the BIOS/UEFI and enable the corresponding option. If you don&rsquo;t have that option, this guide is not for you.</p><h3 id=enabling-features>Enabling features</h3><p>Open &ldquo;Run&rdquo; (Win+R), type <code>OptionalFeatures</code> and press Enter. Scroll to the very bottom and from this list select &ldquo;Virtual Machine Platform&rdquo; and &ldquo;Windows Subsystem for Linux&rdquo;. After that, I suggest you restart the system.</p><p><img src=OptionalFeatures.png alt="Screenshot of the optional features selection dialog with &amp;ldquo;Virtual Machine Platform&amp;rdquo; and &amp;ldquo;Windows Subsystem for Linux&amp;rdquo; highlighted."></p><h3 id=updating-the-kernel>Updating the kernel</h3><p>Microsoft provides the WSL 2 kernel update in a separate package. It is available for both <a href=https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi>AMD64</a> and <a href=https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_arm64.msi>ARM64</a>. After installation, you should restart the system and enter this command in the elevated cmd/PowerShell window:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wsl --set-default-version <span style=color:#f99b15>2</span>
</span></span></code></pre></div><p>It sets WSL 2 as the default version for future installations of WSL distributions.</p><h2 id=automatic-installation>Automatic installation</h2><p><a href=https://git.ameliorated.info/Joe>Joe</a> from the AME community has written a <a href=https://git.ameliorated.info/Joe/amecs/src/branch/master>&ldquo;Central AME Script&rdquo; or &ldquo;amecs&rdquo;</a> to help you easily accomplish certain tasks in Windows 10 AME. Among them is installing WSL distributions, which is what we need.</p><p>You need to download the file &ldquo;amecs.zip&rdquo;, which can be found <a href=https://git.ameliorated.info/Joe/amecs/releases/latest>here</a>.</p><p><img src=amecs1.png alt="Screenshot of the main menu of the script."></p><p>Right now we are on the main screen. What we need is in the &ldquo;Extra&rdquo; category. Press E.</p><p><img src=amecs2.png alt></p><p>Here it is! You can manage WSL distributions in &ldquo;Extra&rdquo; > &ldquo;Manage WSL&rdquo;. Press 1 and then 2.</p><p><img src=amecs3.png alt></p><p><img src=amecs4.png alt></p><p>Here you can choose any WSL distribution supported by Microsoft itself. Select any one you like from the list by clicking on the appropriate button specified in the choices.</p><p><img src=amecs5.png alt></p><p><img src=amecs6.png alt></p><p>Now it is worth waiting. Once the download is complete, the script will do its job and prompt you to select a password for the <code>root</code> and create a new UNIX user.</p><p><img src=amecs7.png alt></p><p><img src=amecs8.png alt></p><p>After that, the distribution was completely installed!</p><p><img src=amecs9.png alt></p><h2 id=manual-installation>Manual installation</h2><p><em>TODO</em></p></div><script src=/assets/js/darkmode.js></script></body></html>